

local v0={instances={},espCache={},chamsCache={},objectCache={},conns={},whitelist={},blacklist={},options={enabled=true,minScaleFactorX=1,maxScaleFactorX=10,minScaleFactorY=1,maxScaleFactorY=10,scaleFactorX=5,scaleFactorY=6,boundingBox=false,boundingBoxDescending=true,excludedPartNames={},font=2,fontSize=13,limitDistance=false,maxDistance=1000,visibleOnly=false,teamCheck=false,teamColor=false,fillColor=nil,whitelistColor=Color3.new(1,0,0),outOfViewArrows=true,outOfViewArrowsFilled=true,outOfViewArrowsSize=25,outOfViewArrowsRadius=100,outOfViewArrowsColor=Color3.new(1,1,1),outOfViewArrowsTransparency=0.5,outOfViewArrowsOutline=true,outOfViewArrowsOutlineFilled=false,outOfViewArrowsOutlineColor=Color3.new(1,1,1),outOfViewArrowsOutlineTransparency=1,names=true,nameTransparency=1,nameColor=Color3.new(1,1,1),boxes=true,boxesTransparency=1,boxesColor=Color3.new(1,0,0),boxFill=false,boxFillTransparency=0.5,boxFillColor=Color3.new(1,0,0),healthBars=true,healthBarsSize=1,healthBarsTransparency=1,healthBarsColor=Color3.new(0,1,0),healthText=true,healthTextTransparency=1,healthTextSuffix="%",healthTextColor=Color3.new(1,1,1),distance=true,distanceTransparency=1,distanceSuffix=" Studs",distanceColor=Color3.new(1,1,1),tracers=false,tracerTransparency=1,tracerColor=Color3.new(1,1,1),tracerOrigin="Bottom",chams=true,chamsFillColor=Color3.new(1,0,0),chamsFillTransparency=0.5,chamsOutlineColor=Color3.new(),chamsOutlineTransparency=0}};v0.__index=v0;local v2=game.GetService;local v3=Instance.new;local v4=Drawing.new;local v5=Vector2.new;local v6=Vector3.new;local v7=CFrame.new;local v8=Color3.new;local v9=RaycastParams.new;local v10=math.abs;local v11=math.tan;local v12=math.rad;local v13=math.clamp;local v14=math.floor;local v15=table.find;local v16=table.insert;local v17=game.FindFirstChild;local v18=game.GetChildren;local v19=game.GetDescendants;local v20=workspace.IsA;local v21=workspace.Raycast;local v22=v7();local v23=v22.PointToObjectSpace;local v24=v22.GetComponents;local v25=v6().Cross;local v26=1/0;local v27=v2(game,"Workspace");local v28=v2(game,"RunService");local v29=v2(game,"Players");local v30=v2(game,"CoreGui");local v31=v2(game,"UserInputService");local v32=v27.CurrentCamera;local v33=v29.LocalPlayer;local v34=v3("ScreenGui",v30);local v35,v36;local v37=v32.WorldToViewportPoint;local function v38(v58)return (v58=="Square") or (v58=="Text") or (v58=="Triangle") or (v58=="Image") or (v58=="Line") or (v58=="Circle");end local function v39(v59,v60)local v88=v38(v59);local v89=(v88 and v4(v59)) or v3(v59);if v60 then for v149,v150 in next,v60 do v89[v149]=v150;end end if  not v88 then v16(v0.instances,v89);end return v89;end local function v40(v61)local v90,v91=v37(v32,v61);return v5(v90.X,v90.Y),v91,v90.Z;end local function v41(v62)return ((typeof(v62)=="Vector2") and v5(v41(v62.X),v41(v62.Y))) or v14(v62);end v0.getTeam=function(v63)local v92=v63.Team;return v92,v63.TeamColor.Color;end;v0.getCharacter=function(v64)local v93=v64.Character;return v93,v93 and v17(v93,"HumanoidRootPart");end;v0.getBoundingBox=function(v65,v66)if v0.options.boundingBox then local v138,v139,v140=v26,v26,v26;local v141,v142,v143= -v26, -v26, -v26;for v152,v153 in next,(v0.options.boundingBoxDescending and v19(v65)) or v18(v65) do if (v20(v153,"BasePart") and  not v15(v0.options.excludedPartNames,v153.Name)) then local v184=v153.Size;local v185,v186,v187=v184.X,v184.Y,v184.Z;local v188,v189,v190,v191,v192,v193,v194,v195,v196,v197,v198,v199=v24(v153.CFrame);local v200=0.5 * ((v10(v191) * v185) + (v10(v192) * v186) + (v10(v193) * v187));local v201=0.5 * ((v10(v194) * v185) + (v10(v195) * v186) + (v10(v196) * v187));local v202=0.5 * ((v10(v197) * v185) + (v10(v198) * v186) + (v10(v199) * v187));v138=((v138>(v188-v200)) and (v188-v200)) or v138;v139=((v139>(v189-v201)) and (v189-v201)) or v139;v140=((v140>(v190-v202)) and (v190-v202)) or v140;v141=((v141<(v188 + v200)) and (v188 + v200)) or v141;v142=((v142<(v189 + v201)) and (v189 + v201)) or v142;v143=((v143<(v190 + v202)) and (v190 + v202)) or v143;end end local v144,v145=v6(v138,v139,v140),v6(v141,v142,v143);return (v145 + v144) * 0.5,v145-v144;else return v66.Position,v5(v0.options.scaleFactorX,v0.options.scaleFactorY);end end;v0.getScaleFactor=function(v67,v68)if (v67~=v35) then v36=v11(v12(v67 * 0.5)) * 2;v35=v67;end return (1/(v68 * v36)) * 1000;end;v0.getBoxData=function(v69,v70)local v94,v95,v96=v40(v69);local v97=v0.getScaleFactor(v32.FieldOfView,v96);local v98=v13(v70.X,v0.options.minScaleFactorX,v0.options.maxScaleFactorX);local v99=v13(v70.Y,v0.options.minScaleFactorY,v0.options.maxScaleFactorY);local v100=v41(v5(v98 * v97,v99 * v97));return v95,v100,v41(v5(v94.X-(v100.X * 0.5),v94.Y-(v100.Y * 0.5))),v94;end;v0.getHealth=function(v71,v72)local v101=v17(v72,"Humanoid");if v101 then return v101.Health,v101.MaxHealth;end return 100,100;end;v0.visibleCheck=function(v73,v74)local v102=v32.CFrame.Position;local v103=v9();v103.FilterDescendantsInstances={v0.getCharacter(v33),v32,v73};v103.FilterType=Enum.RaycastFilterType.Blacklist;v103.IgnoreWater=true;return  not v21(v27,v102,v74-v102,v103);end;v0.addEsp=function(v75)if (v75==v33) then return;end local v108={arrow=v39("Triangle",{Thickness=1}),arrowOutline=v39("Triangle",{Thickness=1}),top=v39("Text",{Center=true,Size=13,Outline=true,OutlineColor=v8(),Font=2}),side=v39("Text",{Size=13,Outline=true,OutlineColor=v8(),Font=2}),bottom=v39("Text",{Center=true,Size=13,Outline=true,OutlineColor=v8(),Font=2}),boxFill=v39("Square",{Thickness=1,Filled=true}),boxOutline=v39("Square",{Thickness=3,Color=v8()}),box=v39("Square",{Thickness=1}),healthBarOutline=v39("Square",{Thickness=1,Color=v8(),Filled=true}),healthBar=v39("Square",{Thickness=1,Filled=true}),line=v39("Line")};v0.espCache[v75]=v108;end;v0.removeEsp=function(v76)local v110=v0.espCache[v76];if v110 then v0.espCache[v76]=nil;for v154,v155 in next,v110 do v110[v154]=nil;v155:Remove();end end end;v0.addChams=function(v77)if (v77==v33) then return;end v0.chamsCache[v77]=v39("Highlight",{Parent=v34});end;v0.removeChams=function(v78)local v112=v0.chamsCache[v78];if v112 then v0.chamsCache[v78]=nil;v112:Destroy();end end;v0.addObject=function(v79,v80)v0.objectCache[v79]={options=v80,text=v39("Text",{Center=true,Size=13,Outline=true,OutlineColor=v8(),Font=2})};end;v0.removeObject=function(v81)local v114=v0.objectCache[v81];if v114 then v0.objectCache[v81]=nil;v114.text:Remove();end end;v0.AddObjectEsp=function(v82,v83,v84)assert(v83 and v83.Parent,"invalid object passed");local v115=v84 or {};v115.enabled=v115.enabled or true;v115.limitDistance=v115.limitDistance or false;v115.maxDistance=v115.maxDistance or false;v115.visibleOnly=v115.visibleOnly or false;v115.color=v115.color or v8(1,1,1);v115.transparency=v115.transparency or 1;v115.text=v115.text or v83.Name;v115.font=v115.font or 2;v115.fontSize=v115.fontSize or 13;v82.addObject(v83,v115);v16(v82.conns,v83.Parent.ChildRemoved:Connect(function(v125)if (v125==v83) then v82.removeObject(v125);end end));return v115;end;v0.Unload=function(v85)for v126,v127 in next,v85.conns do v127:Disconnect();end for v128,v129 in next,v29:GetPlayers() do v85.removeEsp(v129);v85.removeChams(v129);end for v130,v131 in next,v85.objectCache do v85.removeObject(v130);end for v132,v133 in next,v85.instances do v133:Destroy();end v34:Destroy();v28:UnbindFromRenderStep("esp_rendering");end;v0.Load=function(v86,v87)v16(v86.conns,v29.PlayerAdded:Connect(function(v134)v86.addEsp(v134);v86.addChams(v134);end));v16(v86.conns,v29.PlayerRemoving:Connect(function(v135)v86.removeEsp(v135);v86.removeChams(v135);end));for v136,v137 in next,v29:GetPlayers() do v86.addEsp(v137);v86.addChams(v137);end v28:BindToRenderStep("esp_rendering",v87 or (Enum.RenderPriority.Camera.Value + 1),function()for v157,v158 in next,v86.espCache do local v159,v160=v86.getCharacter(v157);if (v159 and v160) then local v203,v204,v205,v206=v86.getBoxData(v160.Position,Vector3.new(5,6));local v207=(v32.CFrame.Position-v160.Position).Magnitude;local v208,v209=v203 and v204 and v205,v86.options.enabled;local v210,v211=v86.getTeam(v157);local v212=(v86.options.teamColor and v211) or nil;if (v86.options.fillColor~=nil) then v212=v86.options.fillColor;end if (v15(v86.whitelist,v157.Name)) then v212=v86.options.whitelistColor;end if (v15(v86.blacklist,v157.Name)) then v209=false;end if (v86.options.limitDistance and (v207>v86.options.maxDistance)) then v209=false;end if (v86.options.visibleOnly and  not v86.visibleCheck(v159,v160.Position)) then v209=false;end if (v86.options.teamCheck and (v210==v86.getTeam(v33))) then v209=false;end local v213=v32.ViewportSize;local v214=v5(v213.X/2,v213.Y/2);local v215=(v23(v32.CFrame,v160.Position) * v6(1,0,1)).Unit;local v216=v25(v215,v6(0,1,1));local v217=v5(v216.X,v216.Z);local v218,v219=v86.options.outOfViewArrowsRadius,v86.options.outOfViewArrowsSize;local v220=v214 + (v5(v215.X,v215.Z) * v218);local v221=(v220-v214).Unit;local v222,v223,v224=v220,v214 + (v221 * (v218-v219)) + (v217 * v219),v214 + (v221 * (v218-v219)) + ( -v217 * v219);local v225,v226=v86.getHealth(v157,v159);local v227=v41(v5(v86.options.healthBarsSize, -(v204.Y * (v225/v226))));local v228=v41(v5(v205.X-(3 + v227.X),v205.Y + v204.Y));local v229=v86.options.tracerOrigin;local v230=v208 and v209;v158.arrow.Visible= not v208 and v209 and v86.options.outOfViewArrows;v158.arrow.Filled=v86.options.outOfViewArrowsFilled;v158.arrow.Transparency=v86.options.outOfViewArrowsTransparency;v158.arrow.Color=v212 or v86.options.outOfViewArrowsColor;v158.arrow.PointA=v222;v158.arrow.PointB=v223;v158.arrow.PointC=v224;v158.arrowOutline.Visible= not v208 and v209 and v86.options.outOfViewArrowsOutline;v158.arrowOutline.Filled=v86.options.outOfViewArrowsOutlineFilled;v158.arrowOutline.Transparency=v86.options.outOfViewArrowsOutlineTransparency;v158.arrowOutline.Color=v212 or v86.options.outOfViewArrowsOutlineColor;v158.arrowOutline.PointA=v222;v158.arrowOutline.PointB=v223;v158.arrowOutline.PointC=v224;v158.top.Visible=v230 and v86.options.names;v158.top.Font=v86.options.font;v158.top.Size=v86.options.fontSize;v158.top.Transparency=v86.options.nameTransparency;v158.top.Color=v212 or v86.options.nameColor;v158.top.Text=v157.Name;v158.top.Position=v41(v205 + v5(v204.X * 0.5, -(v158.top.TextBounds.Y + 2)));v158.side.Visible=v230 and v86.options.healthText;v158.side.Font=v86.options.font;v158.side.Size=v86.options.fontSize;v158.side.Transparency=v86.options.healthTextTransparency;v158.side.Color=v212 or v86.options.healthTextColor;v158.side.Text=v225   .. v86.options.healthTextSuffix;v158.side.Position=v41(v205 + v5(v204.X + 3, -3));v158.bottom.Visible=v230 and v86.options.distance;v158.bottom.Font=v86.options.font;v158.bottom.Size=v86.options.fontSize;v158.bottom.Transparency=v86.options.distanceTransparency;v158.bottom.Color=v212 or v86.options.nameColor;v158.bottom.Text=tostring(v41(v207))   .. v86.options.distanceSuffix;v158.bottom.Position=v41(v205 + v5(v204.X * 0.5,v204.Y + 1));v158.box.Visible=v230 and v86.options.boxes;v158.box.Color=v212 or v86.options.boxesColor;v158.box.Transparency=v86.options.boxesTransparency;v158.box.Size=v204;v158.box.Position=v205;v158.boxOutline.Visible=v230 and v86.options.boxes;v158.boxOutline.Transparency=v86.options.boxesTransparency;v158.boxOutline.Size=v204;v158.boxOutline.Position=v205;v158.boxFill.Visible=v230 and v86.options.boxFill;v158.boxFill.Color=v212 or v86.options.boxFillColor;v158.boxFill.Transparency=v86.options.boxFillTransparency;v158.boxFill.Size=v204;v158.boxFill.Position=v205;v158.healthBar.Visible=v230 and v86.options.healthBars;v158.healthBar.Color=v212 or v86.options.healthBarsColor;v158.healthBar.Transparency=v86.options.healthBarsTransparency;v158.healthBar.Size=v227;v158.healthBar.Position=v228;v158.healthBarOutline.Visible=v230 and v86.options.healthBars;v158.healthBarOutline.Transparency=v86.options.healthBarsTransparency;v158.healthBarOutline.Size=v41(v5(v227.X, -v204.Y) + v5(2, -2));v158.healthBarOutline.Position=v228-v5(1, -1);v158.line.Visible=v230 and v86.options.tracers;v158.line.Color=v212 or v86.options.tracerColor;v158.line.Transparency=v86.options.tracerTransparency;v158.line.From=((v229=="Mouse") and v31:GetMouseLocation()) or ((v229=="Top") and v5(v213.X * 0.5,0)) or ((v229=="Bottom") and v5(v213.X * 0.5,v213.Y));v158.line.To=v206;else for v323,v324 in next,v158 do v324.Visible=false;end end end for v161,v162 in next,v86.chamsCache do local v163,v164=v86.getCharacter(v161);if (v163 and v164) then local v308=(v32.CFrame.Position-v164.Position).Magnitude;local v309=v86.options.enabled and v86.options.chams;local v310,v311=v86.getTeam(v161);local v312=(v86.options.teamColor and v311) or nil;if (v86.options.fillColor~=nil) then v312=v86.options.fillColor;end if (v15(v86.whitelist,v161.Name)) then v312=v86.options.whitelistColor;end if (v15(v86.blacklist,v161.Name)) then v309=false;end if (v86.options.limitDistance and (v308>v86.options.maxDistance)) then v309=false;end if (v86.options.teamCheck and (v310==v86.getTeam(v33))) then v309=false;end v162.Enabled=v309;v162.DepthMode=(v86.options.visibleOnly and Enum.HighlightDepthMode.Occluded) or Enum.HighlightDepthMode.AlwaysOnTop;v162.Adornee=v163;v162.FillColor=v312 or v86.options.chamsFillColor;v162.FillTransparency=v86.options.chamsFillTransparency;v162.OutlineColor=v312 or v86.options.chamsOutlineColor;v162.OutlineTransparency=v86.options.chamsOutlineTransparency;end end for v165,v166 in next,v86.objectCache do local v167=v6();if (v165:IsA("BasePart")) then v167=v165.Position;elseif (v165:IsA("Model")) then v167=v86.getBoundingBox(v165);end local v168=(v32.CFrame.Position-v167).Magnitude;local v169,v170=v40(v167);local v171=v166.options.enabled and v170;if (v86.options.limitDistance and (v168>v86.options.maxDistance)) then v171=false;end if (v86.options.visibleOnly and  not v86.visibleCheck(v165,v167)) then v171=false;end v166.text.Visible=v171;v166.text.Font=v166.options.font;v166.text.Size=v166.options.fontSize;v166.text.Transparency=v166.options.transparency;v166.text.Color=v166.options.color;v166.text.Text=v166.options.text;v166.text.Position=v41(v169);end end);end;return v0;
